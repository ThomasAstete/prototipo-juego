[gd_scene load_steps=10 format=3 uid="uid://cxiu3uoil06js"]

[ext_resource type="Script" uid="uid://7vl4eargj0uj" path="res://Scripts/player.gd" id="1_cvnsp"]
[ext_resource type="PackedScene" uid="uid://bjx666vhoc4g6" path="res://Assets/Characters/Casual_Hoodie.gltf" id="1_v0iea"]
[ext_resource type="Script" uid="uid://c4qmxr163dcf1" path="res://Scripts/camera_pivot.gd" id="2_6t5aa"]
[ext_resource type="AudioStream" uid="uid://b221f0qxwwpvk" path="res://Assets/FX/tintineo-de-llaves-333884.mp3" id="4_vgqql"]
[ext_resource type="AudioStream" uid="uid://c2hd5ydx6iy8" path="res://Assets/FX/foot-steps-at-night-43085.mp3" id="5_fkybt"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_cvnsp"]
height = 1.6883545

[sub_resource type="SphereShape3D" id="SphereShape3D_6t5aa"]

[sub_resource type="LabelSettings" id="LabelSettings_6t5aa"]
font_size = 20

[sub_resource type="LabelSettings" id="LabelSettings_vgqql"]
font_size = 20

[node name="Player" type="CharacterBody3D"]
collision_layer = 2
script = ExtResource("1_cvnsp")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.034, 1, 0)
shape = SubResource("CapsuleShape3D_cvnsp")

[node name="CameraPivot" type="Node3D" parent="." node_paths=PackedStringArray("crosshair_ui")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
script = ExtResource("2_6t5aa")
aim_h_offset = 1.2
crosshair_ui = NodePath("../CanvasLayer/CenterContainer/MiraUi")

[node name="SpringArm3D" type="SpringArm3D" parent="CameraPivot"]
shape = SubResource("SphereShape3D_6t5aa")
spring_length = 10.0

[node name="Camera3D" type="Camera3D" parent="CameraPivot/SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2, 2.5, 2.2)
current = true
fov = 45.0

[node name="RayCast3D" type="RayCast3D" parent="CameraPivot/SpringArm3D/Camera3D"]
target_position = Vector3(0, 0, -3)
collision_mask = 17

[node name="SpotLight3D" type="SpotLight3D" parent="CameraPivot/SpringArm3D/Camera3D"]
light_color = Color(0.92941177, 0.8980392, 0.74509805, 1)
light_energy = 2.0
shadow_enabled = true
spot_range = 10.0
spot_angle = 30.0

[node name="Casual_Hoodie" parent="." instance=ExtResource("1_v0iea")]

[node name="Skeleton3D" parent="Casual_Hoodie/CharacterArmature" index="0"]
bones/1/position = Vector3(-0.021458268, 0.811097, -0.045605686)
bones/1/rotation = Quaternion(3.0267984e-09, 2.3841858e-07, -0.0064031365, 0.9999795)
bones/3/rotation = Quaternion(0.047781564, 4.3755963e-07, 2.9359336e-08, 0.9988578)
bones/4/rotation = Quaternion(0.028011998, 0.030384831, -0.016609803, 0.99900764)
bones/5/rotation = Quaternion(-0.008577761, 0.022760428, -0.008612231, 0.99966705)
bones/6/rotation = Quaternion(0.059392888, -1.5318423e-05, -0.0016881602, 0.9982333)
bones/7/rotation = Quaternion(-0.028792217, -0.0026978918, 0.023028275, 0.9993166)
bones/8/position = Vector3(0.0987475, 0.029017666, 0.02127571)
bones/8/rotation = Quaternion(0.45619932, 0.8402315, 0.10690715, -0.2728811)
bones/9/rotation = Quaternion(0.57389826, -0.47396263, -0.51643544, -0.42343205)
bones/10/rotation = Quaternion(-0.11770084, 0.012349914, -0.074109286, 0.99020296)
bones/11/rotation = Quaternion(0.010541518, 0.021214293, 0.039322134, 0.9989457)
bones/13/rotation = Quaternion(-0.040890895, -0.032145627, 0.067043506, 0.9963934)
bones/14/rotation = Quaternion(-0.079073526, 0.011655671, 0.025053116, 0.99648577)
bones/15/rotation = Quaternion(-0.029872311, 0.009780768, 0.004962074, 0.99949354)
bones/17/rotation = Quaternion(-0.08997475, 0.025432603, -0.00615306, 0.99560034)
bones/18/rotation = Quaternion(-0.12041011, 0.0062388917, -0.018847289, 0.9925257)
bones/19/rotation = Quaternion(-0.019045565, 0.00917197, -0.011120972, 0.9997148)
bones/21/rotation = Quaternion(-0.07693077, 0.15949571, -0.069272645, 0.9817556)
bones/22/rotation = Quaternion(-0.11816427, 0.040226378, -0.04146296, 0.9913122)
bones/23/rotation = Quaternion(-0.07517978, 0.030085102, -0.0074802567, 0.996688)
bones/25/rotation = Quaternion(-0.1265887, 0.17958415, -0.16197222, 0.96202385)
bones/26/rotation = Quaternion(-0.09079757, -0.056609496, -0.023062501, 0.9939916)
bones/27/rotation = Quaternion(-0.11694978, -0.018361026, -0.002898905, 0.99296385)
bones/28/rotation = Quaternion(0.003876999, 0.19860761, -0.34576175, 0.9170544)
bones/29/rotation = Quaternion(0.04172779, -0.12201462, 0.08518156, 0.9879855)
bones/30/rotation = Quaternion(-0.08858776, -0.055602834, 0.12199241, 0.98700476)
bones/31/position = Vector3(-0.09804791, 0.029017791, 0.021275792)
bones/31/rotation = Quaternion(-0.45619923, 0.8402316, 0.106907494, 0.27288067)
bones/32/rotation = Quaternion(-0.7709006, -0.13941273, -0.22342464, 0.5799635)
bones/33/rotation = Quaternion(-0.14198078, -0.0047775507, 0.27211383, 0.951721)
bones/34/rotation = Quaternion(0.021973815, -0.032600656, 0.08473628, 0.9956275)
bones/36/rotation = Quaternion(-0.040890887, 0.032145627, -0.06704345, 0.9963934)
bones/37/rotation = Quaternion(-0.079073526, -0.011655672, -0.025053125, 0.9964858)
bones/38/rotation = Quaternion(-0.0298723, -0.009780762, -0.004962061, 0.99949354)
bones/39/rotation = Quaternion(0.025722718, 0.01940881, -0.016910614, 0.9993376)
bones/40/rotation = Quaternion(-0.09596744, -0.028884219, -0.05328903, 0.99353725)
bones/41/rotation = Quaternion(-0.12041012, -0.0062388647, 0.018847277, 0.9925257)
bones/42/rotation = Quaternion(-0.01904558, -0.0091719655, 0.0111209955, 0.9997148)
bones/43/rotation = Quaternion(0.00911316, 0.050340876, -0.12795733, 0.9904593)
bones/44/rotation = Quaternion(-0.08193288, -0.16051693, 0.036554255, 0.9829472)
bones/45/rotation = Quaternion(-0.11816418, -0.040226363, 0.041462958, 0.9913122)
bones/46/rotation = Quaternion(-0.07517976, -0.030085102, 0.0074802744, 0.996688)
bones/47/rotation = Quaternion(0.017032534, 0.07191996, -0.22635885, 0.9712359)
bones/48/rotation = Quaternion(-0.1265887, -0.17958416, 0.16197222, 0.96202385)
bones/49/rotation = Quaternion(-0.090797596, 0.056609474, 0.023062479, 0.9939916)
bones/50/rotation = Quaternion(-0.11694976, 0.018361052, 0.0028988456, 0.99296385)
bones/51/rotation = Quaternion(0.0038770712, -0.19860765, 0.34576166, 0.9170545)
bones/52/rotation = Quaternion(0.04172771, 0.122014694, -0.08518152, 0.9879855)
bones/53/rotation = Quaternion(-0.088587716, 0.05560279, -0.12199227, 0.98700476)
bones/54/rotation = Quaternion(-0.6530081, 0.22845802, 0.68380576, -0.23194179)
bones/55/rotation = Quaternion(0.15047732, 0.6909102, -0.15047732, 0.6909097)
bones/56/rotation = Quaternion(0.7068805, -0.03295493, 0.7027963, -0.07287879)
bones/57/rotation = Quaternion(0.22615148, -0.6699671, 0.22615147, 0.6699666)
bones/58/position = Vector3(0.09769869, 0.069927074, 0.35794988)
bones/58/rotation = Quaternion(0.5298148, 2.3603436e-05, 1.4834104e-05, 0.84811336)
bones/59/position = Vector3(0.12059134, 0.46685842, 0.68544304)
bones/59/rotation = Quaternion(-0.0026737682, 3.3855315e-05, -9.0521596e-08, 0.9999964)
bones/60/position = Vector3(-0.10746042, 0.12827282, -0.4588981)
bones/60/rotation = Quaternion(0.88250536, -0.0007633269, 0.0045494307, 0.47027978)
bones/61/position = Vector3(-0.12059167, 0.46685842, 0.685443)
bones/61/rotation = Quaternion(-0.0026737682, -3.4093737e-05, 9.115905e-08, 0.9999964)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="MiraUi" type="ColorRect" parent="CanvasLayer/CenterContainer"]
custom_minimum_size = Vector2(4, 4)
layout_mode = 2

[node name="ContadorUI" type="Label" parent="CanvasLayer"]
offset_right = 40.0
offset_bottom = 23.0
text = "Llaves:0"
label_settings = SubResource("LabelSettings_6t5aa")

[node name="MensajeVictoria" type="Label" parent="CanvasLayer"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -38.5
offset_top = -11.5
offset_right = 38.5
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
text = "Escapaste"
label_settings = SubResource("LabelSettings_vgqql")

[node name="SonidoLlave" type="AudioStreamPlayer" parent="."]
stream = ExtResource("4_vgqql")

[node name="Timer" type="Timer" parent="."]
wait_time = 0.66
one_shot = true

[node name="SonidoPasos" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_fkybt")

[editable path="Casual_Hoodie"]
